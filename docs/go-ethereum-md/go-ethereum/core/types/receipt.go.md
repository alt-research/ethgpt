## Receipt

The `Receipt` type represents the results of a transaction. It contains both consensus fields, which are defined by the Yellow Paper, and implementation fields, which are added by Geth when processing a transaction.

### Fields

- `Type` - the type of the transaction.
- `PostState` - the root of the state trie after the transaction has been executed.
- `Status` - the status code of the transaction (0 for failed, 1 for successful).
- `CumulativeGasUsed` - the total amount of gas used by the transaction and all preceding transactions in the same block.
- `Bloom` - the Bloom filter of the transaction's logs.
- `Logs` - the logs generated by the transaction.
- `TxHash` - the hash of the transaction.
- `ContractAddress` - the address of the contract created by the transaction (if any).
- `GasUsed` - the amount of gas used by the transaction.
- `EffectiveGasPrice` - the effective gas price of the transaction.
- `BlockHash` - the hash of the block containing the transaction.
- `BlockNumber` - the number of the block containing the transaction.
- `TransactionIndex` - the index of the transaction in the block.

### Functions

#### `NewReceipt`

```go
func NewReceipt(root []byte, failed bool, cumulativeGasUsed uint64) *Receipt
```

`NewReceipt` creates a barebone transaction receipt, copying the init fields.

#### Parameters

- `root` - the root of the state trie after the transaction has been executed.
- `failed` - whether the transaction failed or not.
- `cumulativeGasUsed` - the total amount of gas used by the transaction and all preceding transactions in the same block.

#### Return Values

- `*Receipt` - the new transaction receipt.

#### `Receipt_RLP`

```go
func (r *Receipt) Receipt_RLP(n int) []byte
```

`Receipt_RLP` returns the RLP encoding of the receipt.

#### Parameters

- `n` - the number of logs to include in the RLP encoding.

#### Return Values

- `[]byte` - the RLP encoding of the receipt.

#### `Receipt_JSON`

```go
func (r *Receipt) Receipt_JSON() ([]byte, error)
```

`Receipt_JSON` returns the JSON encoding of the receipt.

#### Return Values

- `[]byte` - the JSON encoding of the receipt.
- `error` - an error, if any.

#### `Receipt_Size`

```go
func (r *Receipt) Receipt_Size() common.StorageSize
```

`Receipt_Size` returns the size of the receipt in storage.

#### Return Values

- `common.StorageSize` - the size of the receipt in storage.

#### `Receipt_Validate`

```go
func (r *Receipt) Receipt_Validate() error
```

`Receipt_Validate` validates the receipt.

#### Return Values

- `error` - an error, if any.

#### `Receipt_Copy`

```go
func (r *Receipt) Receipt_Copy() *Receipt
```

`Receipt_Copy` creates a copy of the receipt.

#### Return Values

- `*Receipt` - the copy of the receipt.

#### `Receipt_Clone`

```go
func (r *Receipt) Receipt_Clone() *Receipt
```

`Receipt_Clone` creates a clone of the receipt.

#### Return Values

- `*Receipt` - the clone of the receipt.

#### `Receipt_Hash`

```go
func (r *Receipt) Receipt_Hash() common.Hash
```

`Receipt_Hash` returns the hash of the receipt.

#### Return Values

- `common.Hash` - the hash of the receipt.

#### `Receipt_String`

```go
func (r *Receipt) Receipt_String() string
```

`Receipt_String` returns a string representation of the receipt.

#### Return Values

- `string` - the string representation of the receipt. ## Receipt

The `Receipt` type represents the receipt of a transaction. It contains the status of the transaction, the cumulative gas used, the bloom filter, and the logs generated by the transaction.

### Variables

#### `ErrTxTypeNotSupported`

`ErrTxTypeNotSupported` is an error that is returned if a transaction type is not supported in the current network configuration.

### Functions

#### `NewReceipt`

`NewReceipt` creates a new receipt with the given parameters.

```go
func NewReceipt(status bool, cumulativeGasUsed uint64, bloom types.Bloom, logs []*types.Log) *Receipt
```

##### Parameters

- `status` - the status of the transaction.
- `cumulativeGasUsed` - the cumulative gas used by the transaction.
- `bloom` - the bloom filter generated by the transaction.
- `logs` - the logs generated by the transaction.

##### Return Values

- `*Receipt` - the new receipt.

#### `(*Receipt) EncodeRLP`

`EncodeRLP` encodes the consensus fields of a receipt into an RLP stream.

```go
func (r *Receipt) EncodeRLP(w io.Writer) error
```

##### Parameters

- `w` - the writer to write the encoded RLP stream to.

##### Return Values

- `error` - an error, if any.

#### `(*Receipt) MarshalBinary`

`MarshalBinary` returns the consensus encoding of the receipt.

```go
func (r *Receipt) MarshalBinary() ([]byte, error)
```

##### Return Values

- `[]byte` - the consensus encoding of the receipt.
- `error` - an error, if any.

#### `(*Receipt) DecodeRLP`

`DecodeRLP` loads the consensus fields of a receipt from an RLP stream.

```go
func (r *Receipt) DecodeRLP(s *rlp.Stream) error
```

##### Parameters

- `s` - the RLP stream to decode the receipt from.

##### Return Values

- `error` - an error, if any.

#### `(*Receipt) UnmarshalBinary`

`UnmarshalBinary` decodes the consensus encoding of receipts. It supports legacy RLP receipts and EIP-2718 typed receipts.

```go
func (r *Receipt) UnmarshalBinary(b []byte) error
```

##### Parameters

- `b` - the bytes to decode the receipt from.

##### Return Values

- `error` - an error, if any.

#### `(*Receipt) Size`

`Size` returns the approximate memory used by all internal contents. It is used to approximate and limit the memory consumption of various caches.

```go
func (r *Receipt) Size() common.StorageSize
```

##### Return Values

- `common.StorageSize` - the approximate memory used by all internal contents. ## Receipts.go

This file contains the implementation of the `ReceiptForStorage` and `Receipts` types, which are used to represent receipts in the Ethereum blockchain. Receipts are used to record the results of executing transactions, including the amount of gas used, the contract address created (if any), and any logs generated.

### `ReceiptForStorage`

`ReceiptForStorage` is a wrapper around a `Receipt` with RLP serialization that omits the Bloom field and deserialization that re-computes it.

#### Functions

##### `EncodeRLP`

`EncodeRLP` implements `rlp.Encoder`, and flattens all content fields of a receipt into an RLP stream.

##### `DecodeRLP`

`DecodeRLP` implements `rlp.Decoder`, and loads both consensus and implementation fields of a receipt from an RLP stream.

### `Receipts`

`Receipts` implements `DerivableList` for receipts.

#### Functions

##### `Len`

`Len` returns the number of receipts in this list.

##### `EncodeIndex`

`EncodeIndex` encodes the i'th receipt to w.

##### `DeriveFields`

`DeriveFields` fills the receipts with their computed fields based on consensus data and contextual infos like containing block and transactions. ## Function: SetBlockInfoForLogs

The `SetBlockInfoForLogs` function is used to set the block information for a slice of transaction receipts. This function takes in the block number and block hash as parameters and sets them for each log in the receipts slice. Additionally, it sets the transaction hash, transaction index, and log index for each log.

### Parameters

- `number` - the block number to set for the logs.
- `hash` - the block hash to set for the logs.
- `rs` - a slice of transaction receipts to set the block information for.

### Return Value

This function does not return anything.

### Example Usage

```go
blockNumber := uint64(12345)
blockHash := common.HexToHash("0x123abc")
receipts := []*types.Receipt{receipt1, receipt2, receipt3}
err := SetBlockInfoForLogs(blockNumber, blockHash, receipts)
if err != nil {
    log.Fatal(err)
}
```

In this example, the `SetBlockInfoForLogs` function is called with a block number of 12345 and a block hash of "0x123abc". The function is called on a slice of transaction receipts, `receipts`, which is passed in as a parameter. If there is an error setting the block information for the logs, the program will log the error and exit.